# Episode 25. Recorded March 31st, 2021 with guest Chuck Enstall - Azure Security Questions from Customers

## Intro
Welcome to the Azure Security Podcast where we discuss topics relating to security, privacy, reliability and compliance on the Microsoft Cloud platform.

## Audio

**Michael**: Hey everybody, welcome to episode 25. We have a full house this week. It's myself, Gladys, Mark and Sarah. We also have a special guest Chuck Enstall. Who's here to talk to us about some of the common questions he gets from customers relating to Azure security. But before we get to Chuck, let's take a look at the news mark. Don't kick things off.

**Mark**: Yeah, starting off, there's an expansion of our PCI DSS certification. We got the link in there. I'm not huge person that's detailed into the PCI DSS search, but they did expand the scope of it. The other one, the next one that we've got is. There's a report that put out there and we've got a link to the blog that kind of describes it. We're definitely starting to see an increase in the firmware. A layer attacks, you know, like every piece of software there is, vulnerabilities, and all the all the joy of that.
So wanted to make sure that folks were there. It's a nice awareness piece there and also talks a little bit about how we focus on that with our secure secured core capabilities within Windows. Next one is there's a. Obviously there's been a fairly decent impact from the exchange vulnerabilities that were published on not too long ago. Our dark team actually recorded our detection response team that does instant response with customers recorded really nice.
Overview of the attacks and how they work and what to do about it, and so wanted to make sure that you all saw that YouTube video is a big one from the things that I'm working on, we're starting to take a look at the Azure security benchmarks and what are the things we can do to improve it? So would love to get any feedback at me up on LinkedIn or Twitter if there's anything that you're looking for. In particular, we haven't really locked on the specific plan yet, but we're thinking about through a shared responsibility model. We've gotten a decent feedback of OK, who does what, how much this is Microsoft? How much is this?
Is sort of the enterprise identity or network enterprise wide teams across workloads and how much of this security best practice would land on a specific workload owner. And so we're thinking about that? And how do we represent that? So love to get some feedback from you on that one.
The next one is the cyber reference architecture. The very big complicated diagram that has all Microsoft cyber capabilities, or at least the main ones we can't fit on it anymore, is getting ready to come out. It's can't give you a specific date, but it should be a matter of weeks from the recording this podcast. So we'll be talking about that. I'm sure as as it gets even closer, but wanted to give you a heads up that that updated version is coming. I continually get questions on LinkedIn and Twitter and whatnot for that.
And then the last one is a little bit more for it. Kind of illustrates one of the things that we're thinking about is we're looking at working on some dev Secops guidance is we're starting to appreciate how important it is when you do to have secops to look at the world through the lens of developers, security people, an operations 'cause each has a very important goal in an application. One is that it meets the business needs fit for purpose actually enables the organization. That's the dev world, kind of representing the business. The office is the reliability, stability, maintainability, kind of elements.
The security is at stay safe and it you know, meets all those security assurances of confidentiality, integrity, availability. We're really thinking about like that need to merge the cultures and the last one was just an article that was a really interesting viewpoint that showed how what the world looks like if you try. If you let the developers win every argument and you know the world is equally as dystopian is if you let the security people win every argument as well, but it was just an interesting insight there that I found interesting stuff that share that with the group.
Hello everyone.


**Gladys** Besides Microsoft releasing an enormous amount of security information as part of the Ninja training which I have mentioned in previous podcasts, we have been expanding the learning path we provide within the Microsoft Learning site does www.microsoft.com/learn since during our last podcast Michael went through a high level view of this site capabilities.
I wanted to quickly mention the SC-200 training provided within that site. He has eight parts focusing on different security solution that includes Azure Sentinel Azure Security Center, Azure Defender, Defender for Endpoint and others. So be sure to check out this material as is an excellent resource for those of you that want to start in the security field.
Or even expand further knowledge to support cloud security services. In addition, last year Microsoft Open many learning path in link LinkedIn learning to be delivered for free until June 2021. Well, Microsoft is extending access to those learning path onto Anno 2021, so make sure to add those as part of your learning as well.
Another thing that I wanted to share is that easier support for Windows 2019 has been added to Microsoft Defender for endpoint. This means that now the Windows 2019 VM's can have this capability enable and then which extends the further the capabilities that are included within Azure Defender. So make sure to enable the use.
If you have this service already.

Also, as part of identity I which I'm gonna share a couple of news in here, customers can now quickly configure single sign on and user provisioning to awos single sign on using the Azure AD App Gallery. This means that now a WS single sign on can be quickly connected to a surety for centralized access management of a WS resources.
And of course, it means that the end users can sign into a WS single sign on using the Azure AD credentials to access all the assign a WS resources. The next identity related knew is that the 80 Federation services activity and inside report is now available in the Azure portal.
Which let's customer quickly identify which applications are capable of being upgraded to authority.
It accesses are all the ID application for compatibility with Azure ready checks for any issues and gives guidance on preparing individual application for migration to Azure Ready. And finally I wanted to talk about the new Azure ready logging that has been enabled Orizon preview this include provision and alerts for service principle, extending some of the logs are extending the ADFS login.
And even providing us something signing alerts related to MFF.

**Michael**: Whole bunch of stuff took my interest this week. The first one is GitHub Advanced Security is now available in Beta. It kind of reminds me of Azure Security Center, but for your code. So if you've got code and GitHub Lastly scan over your repose looking for common issues and it will give you essentially a dashboard which gives a nice idea of sort of are improving security. You know what issues are being found and so on. Absolutely love that.
They've now added the ability to do scanning for secrets in private repose. This is kind of nice because, you know, we hear on more than one occasion where someone's embedded a credential and then uses that credential in during normal operations. And then they happen to check their credential into GitHub. So now the attackers have access to their credential, so that's also available in the GitHub advanced security. Another topic that is related to GitHub is a thing called CodeQL.
As a code query language, the best way of looking at CodeQL is a way of querying code looking for specific kinds of patterns. As you would say a SQL query, but for code. So what we've done is we've open sourced the CodeQL queries that are used to hunt for Solara Gate type activity.
This is really cool. I'm a huge fan of CodeQL best way I think of thinking about CodeQL is again imagine SQL, but for querying code and querying the kinds of constructs in code like if you see this kind of data in this kind of Co construct then we may have a SQL injection vulnerability here. Those kinds of things. The other nice thing about CodeQL is it really democratized as these rules that are used for finding new classes of vulnerability we have upon GitHub a plethora of rules that have been written by.
Other people for finding specific kinds of vulnerabilities. So if you're a developer or you're going to develop sharp, or you're in charge of development team, you really should spend some time looking at CodeQL and GitHub.
Another thing that took my interest this week was we now have in.

IoT hub we made some security changes. We are now able to sort of fine tune the way some of your IP filters work. You must add your computers IP address into the allow list now to make it to make it work correctly so that you can actually access it through the portal. Historically that wasn't the case and also have made some pretty significant networking changes. Running IoT hub using Azure Portal using clients during the same Vnet. As said IoT hub private link. So do be aware of some of the networking changes that have come down the Pike.
Or IoT hub. For some reason we seem to be getting a lot of changes updates in SQL and Synapse. One of the ones that I notice this week was dynamic data masking, granular permissions, dynamic data masking allows you to mask out certain kinds of sensitive data. It's not encryption, it's not really a air quotes security control, but there certainly to help accidental accidental disclosure of sensitive data. So for example, and in the US with a Social Security number, you could sell SQL Server to say.

When data from this column is returned, is a Social Security number so you know mask out all the characters except the last four digits. We now have the ability to set the policy's at a much more granular level, so you could set the actual permissions and the policies that are in place, right down to.
Schema level at the table level and right down to the column level as well. So nice to see some fine tuning of that ability.

For media Services, we've added a whole bunch of new security features there as well, including things like customer managed key support and managed identity's. So again, you know this is one of the three main areas or two examples of three of the main areas that we see happening across the board. Increase use of managed identities and increased use of support for customer managed keys, so media services now has the ability to have customers keys and managed identities.

Next one is in public preview. As your Event Grid now supports system assigned managed identity's.

So another feature that I saw was in public Preview Azure Event Grid Now has support for system assigned managed identity's. What you can do is you can put a manage identity on a publisher so when it publishes events let's say pushes those events out to a storage account you could have a policy on our back policy on the storage account that says that event Grid can write to me and nothing else. Or perhaps you know something reading the events but.
Ultimately got a fantastic ability here to restrict who can write through the likes of, say, service bus or eventhubs blob storage, and as your storage here.

This next one is not really truly security, but I was really excited to see everything called Azure Communication Services, which lets you do things like sending and receiving text messages, phone calls and so on.

You know, is it a security feature though, but it really caught my attention because I didn't even know this is coming down. The Pike. Apparently been in preview for some time, but don't even know it's coming down the Pike. But for people who wanted to build custom sort of two factor authentication mechanisms, not that you should, but I'm just saying if you wanted to, you could certainly use a service like this back to the sequel topic of some papers. I notice this last couple of weeks. One is called security delegation of authority and another one is the intro into security principles. In the context of database systems.

This is really cool. Here's why this is so cool. SQL databases have their own security model, it's not the Azure security model, is not a Windows security model, is not allergic security model. There different models and there are good reasons for that. And so when you got this sort of boundary between Azure Security an SQL security, you sort of have to understand how to map 1 to the other and how to do away with that kind of impedance mismatch. And we've been trying over the last few years to really help in that area. So this document is absolutely fantastic.

It talks about basically how SQL database security models work, and I think once you understand that it becomes a lot easier to map onto. Sort of how to use as a security to complement SQL security as well. And the last one is as your Active Directory only authentication for Azure SQL. So it turns out there's a little story behind this. The news about this coming out actually leaked a little bit early and people were running around trying to turn this feature on, and they couldn't find it, and the reason was.

Because it wasn't available yet, but it's coming out in April, so this allows you to do is an Azure SQL DB. You can go and you can say use as your Active Directory for all authentication. From this point forward, no more SQL authentication very similar to the on-prem ability where we can say use Windows authentication only, but in this case we're using Azure Active Directory authentication only. That is absolutely fantastic to see, because again it gets rid of one of those sort of legacy security things that we have as a holdout from the old days of SQL security.
And that's all I have.

**Sarah** OK, so my card loads of stuff there so let me do a few so of course it would be wrong for me not to talk about something. Azure monitor E So ExpressRoute monitoring in Azure Monitor has now gone GA So what that is is if you're using Azure ExpressRoute you can now look at the metrics in the config details of ExpressRoute just through Azure monitor. So it means you can see things like hearings, connections and gateways. You can see the health status.
You can see important circuit metrics like availability and throughput, any packet drops and other bits and bobs like that, which of course is important if you are connecting your on premise to Azure through an ExpressRoute. Another thing that's gone GA is networking for key vault references on Windows in app service in Azure functions. So Windows apps that have virtual network integrations can now access restricted network vaults.
Which is really cool, because of course, the more we can restrict access to secrets, the better. And this is just for Windows at the moment, but it is coming for Linux very soon. There is an issue at the moment, literally at the point of US recording this, so hopefully if you're listening to this in the future, this will be gone. But I guess I should mention it 'cause it's in the NEWS UPDATE. There is a known issue which prevents version list references from automatically updating when they're behind network restrictions.
It is going to be fixed soon. We're aware of it, but it is recommended just at the moment not to use both those features at the same time, but hopefully by the time, unless you're super keen and you listen to this podcast the day it comes out, which I hope at least some of you do, then hopefully will affect that. But just to note, next one is another GA announcement, incription scopes in Azure Storage, an now generally available so they allow you to provision multiple encryption keys and the storage account for blobs.
It used to be that you could only use one account scoped encryption key.
And last thing is Azure Private Link for actually cache for Redis is in GA Now so private link as you may know from all the other products that also have private link it provides private connectivity from a virtual network into your cache instance. By the way, I know some people say cash in my part of the world, I say cash but what it means is that you can actually access the cache without going putting your data through the public Internet so.
What this means specifically for this one is that you can connect to an Azure cache for Redis from a virtual network. Now that's often a preference for customers to just not have things go out to the public Internet. Some customers may need that for regulatory purposes or just to meet their internal security standards. So again, if you've been waiting for that, here it is, and that is all of my news for this week.


**Michael** Alright, now we got the news out of the way. Let's turn our attention to our guest this week we have Chuck Enstall who is a as a security architect. He's a global black belt and he's here to talk to us about sort of some of the questions that he's seen from customers and some of the some of the areas of perhaps of friction or areas where there may be a little bit of a little bit of a knowledge gap. So before we get stuck into it, check you wanna give us a little background on yourself, how long, better Microsoft what you do? Thanks Michael for having me appreciate it so.

**Chuck** Yeah, I've been at Microsoft for a little over 13 years. In total, I'm a retread so started in 2005. Left went to spent a number of years at Apple and then came back into a one of the earlier CSA roles. When Azure is still in incubation always had a focus on security and then jumped into the Azure security architect role myself and my colleague Tom Quinn, where I think the the first two guys Tom was there before me. Kind of doing this on on truly a global scale and then.
We started to add some folks as the field realized this was a pretty valuable role, and so in fact, Marcus, I most was one of my interviewers, so I really had to slide some cash under the table in order to get to this role with Mark so. But yeah, so I've always been a technical presales role at Microsoft, mostly focused around Windows Server and everything that goes along with it. So domain services, remote Desktop, services, certificate services, things like that. But you've been doing this role now since.
Probably 2018.

One of the things that we mentioned is this notion of global black belt. So, So what is a global black belt and what is your role? Yeah, so great question, and it's it's actually a title, A moniker that we at least have. Maybe I typically don't use with customers 'cause it has very little relevance or context, but the understanding is that you're kind of a resource of last resort, potentially someone who, if there is no one else to ask or have a question answered you, let's let's go to the global black belt. So we're.
Point of escalation from the field and we kind of sit in between our engineering team. So the CX PC EXE you know the product groups themselves and try to keep some of that constant incoming FLAC off of their plates so that we can answer that and go deep and potentially across a number of product features. Solutions that Microsoft offers. So we're not looking at it in a siloed way, and we're looking at things that are in Azure. Things that are on Premises, Client server both.
Buy things that are in other clouds so we kind of help tie it all together with the customer and the only thing we don't do is anything really hands on. We're not consultants that we we offer that up for either the RCS or MCS or something like that or or a qualified partner to actually do the finish. The implementation or ****.
I really had to kick this off with a question I want to get your view on it. 'cause I see this all the time with customers across the entire spectrum.
And that is that. There's often quite silent and you sort of mention that word. You know it's quite siloed areas of expertise that will be designing something with the customer going through the business requirements and so on, and then we'll get the security guys in there. So yeah, you know, we need to do this than the other and the most so far, but we can't do this 'cause we need the networking between the networking folks and then the network info Kusto. We need the identity folks. So I mean, do you see this as well where there's almost this almost these walls between security networking?
And identity, I mean, do you see this getting better or is this just something we're going to live with for awhile? So yeah, so it's a great question and I see it every week. It has gotten better if you. If you look back decades, it was very siloed. It has gotten better. If there's one organization inside of a company that is siloed more than any others, it oftentimes this security will go in and will work with an organization trying to remove some blockers, you know, increase their agility.
Velocity, whatever you'd like to call it, and so you look around and they've created a cloud center of excellence or whatever they call it, and you've got all the appropriate stake holders from all you know. So application architects, storage folks, networking, and then where's the security folks? Now? We never invite them 'cause they're just crotchety there. They always just say no, they don't understand cloud and and that's really amiss. And then you say, well, here is probably why we're having these issues right. Why security is saying no?
So yeah, I do see that silo. It's still going on when we do come in and have conversations about a security topic.
If we're, you know, we start to ask ahead of time. Make sure the account team invites all the appropriate stakeholders because we don't want to get five 10-15 minutes in. We start talking about something and then I it moves to identity and they go hold on check we we don't have our identity folks on the on the call outs. Well well why? I mean it's it's no longer that siloed. It is something that's very fluid. We have to have all those folks together in order to really make progress.
And it gets to a point where you can't say. Well, that's really not what I do. There's no longer a hard clear cut my job, not my job type of thing, and we see that in organization. Still it is. It is getting better, but we also see that oftentimes inside of Microsoft, so I think it is getting better. We're striving to do that internally. We're we're actually helping our customers kind of understand that invite the network folks invite the identity folks, even though if you don't think the required, it's good for them to know.
Right kind of cross train. The same thing. Invite the security folks early and often. They're going to become your best friends. It's going to be easier for them to sign off and produce a risk report on a particular application if they are involved and they feel their stakeholder, so it is still a siloed approach. I think it is getting better. I think it's just going to take some time.
Yeah, and the way the way that I like to to think about this is, like you know, I feel like we're redrawing the lines. There will be some new lines, right? Hopefully not a siloed as we've been, but like the lines that were, we really haven't questioned them since. Like I don't know, the late 90s early 2000s when enterprise computing, you know, kind of took over from mainframe and desktop like I feel like we're going back and questioning stuff that was being settled when Active Directory came around. So I'm curious choc. Like as as organizations kind of embark on Dev OPS, which is a merging of the two cultures and.
And Dev Secops which is emerging of the three to make sure it's you know reliable it's it's performative meets the business requirements, and it's secure. Like are you seeing progress with in there, or is it still too early to tell? I'm kind of curious how how that plays out, and also the sort of cloud office versus on-prem office cloud teams, kind of bringing their own security people, so I'm curious what you're what you're seeing in those spaces in the emergency space. So Mark, that is a excellent.
Point and there are still some confusion around that I, I think, largely because security folks, networking people they've never considered themselves any sort of a developer or scripter or automation person, right that was frighty operations or development. That's that's another one of those, I think, pillars that really needs to be understood at some fundamental level that this idea of being able to write a simple script. And that's PowerShell Azure CLI, whatever it is.
Bash script you you you need to have some competency there and that's going to make things better all around. And by the way, I love to use the word asek DevOps. I like to put security first. It's more important, but that really I've given up on that.
Like this thing and I'm like is it going secure DevOps but I'm now Dev secops yeah I'm just trying to bring it back but but I think it's right. It's very very important that security folks and what we're seeing Interestingly enough is I think some of the folks that are instant response focus sock professionals are kind of ahead of that curve in many ways, but they're kind of after the fact that consumers of this data and then they're writing all these scripts to kind of do correlations. What we'd like to see is the security architects.
Really get into this process and integrate into those teams so that they can do that. Deb setups process and learn from the developers. Learn from the operations and we have to break down those walls of silence even further so that we do get good across domain SME sharing of subject matter experts sharing these capabilities. Hey, let me try to do this so good. Let me show you how to do this and that's when things really start to fire on all cylinders.
We do have, I think, much more work to go when it comes there, especially just companies trying to even decide on a standardization from a from an automation perspective. And I think Terraform is really kind of leading there, but we've got folks using Ansible and Chef and Puppet and ARM, and you know, it's great that they're doing it, but even that starts to sometimes seem overwhelming to some of these security folks or networking folks. And listen, you know, I'm too old for this. My career this really matter, so I think part of our job at Microsoft is really.
Show them yeah, this can make your job easier, can make it better. You can focus on higher order processes, so I love that. Call out mark.
Check how does compliance fit into all of this. The compliance is a big word, right means different things to different people, but what do you get asked about? Yeah, well, thanks for that question Sir. And by the way, good to talk with you again. It's been a month or so.
No.
I don't know Chuck and I. I was also one of Chuck's colleagues I was, I think the 4th person.
With David Sanchez who's been on the podcast before Chuck's been to visit me down on this side of the world, you were very surprised when you ask for nonfat milk. And they said we have milk.
Yes, I was embarrassing and thank you for being my cultural attache to that. And Speaking of David, I was more embarrassing than I first met David prior to him joining the global Black Belt team and we were in Madrid and he took me to a Starbucks and I said, how do you ask them for nonfat milk and you can look to me like I don't think there is a Spanish word for non fat milk right? So even more embarrassing, I've learned I just drink coffee black now. So so again Sir. Thanks for that question.
Compliance is a big topic really has a number of different connotations depending on who you ask. I think what folks are looking for is guidance around being able to comport with numerous different compliance frameworks, so that could be PCI DSS. It could be HIPAA. Hitrust hi-tech GDP are fedramp. There's a number of them, and I think it's important to really, uh, address those, and it doesn't mean that you have to be able to.
Being certified auditor on PCI DSS, go down to the NTH degree on the details, but absolutely work with organized.
Patients to make sure that you can show them that we have an adequate amount of controls inside of the platform that can help them obtain those objectives. And then of course bring in additional resources, but just it's a dialogue that we have to enter in into with organizations across the board. An ongoing conversation, so it's never going to be. Hey, I've answered this question and we should we go now? You're always going to be compliant.
The nature of cloud itself with the shared responsibilities matrix makes it imperative for Microsoft to work very closely with organizations across any of those compliance frameworks, and make sure that we're again constantly staying in touch because product change inside of azurite. The features that capabilities might shift new things come up to which we just talked about. Some of those at the top of the podcast, and then of course the frameworks themselves change, right? So that's a it's a great.
Question, it's something I think we need to give even more credence to and have more discussions with customers around compliance in general.
Yeah, I want to concur with something you said about you. Don't have to be an expert in compliance. One thing that spend a lot of time with customers is building threat models for them, right? So we take a solution and we look at the threats and the medications and so on. And those mitigations map quite nicely to the technical controls in many compliance programs, not just working with the customer just recently and we were talking about PCI DSS and then I just sort of talk about GDP are in general and HIPAA and HITRUST in high tech as you mentioned just in general in passing one of.
People on the on the call said why are we learning about compliance? Why do I need to know about compliance and my my response was you need to understand at least what the compliance programs are and what the implications are of these compliance programs. I don't think you need to be a compliance Alpha geek. Leave that to the compliance people in the legal people, but you need to at least understand the implications that GD PR may have on your solution or the implications that Fedramp may have on your your solution or the implications of PCI DSS. Three point 2.1 may have in your.
Your solution you you have to be mindful of these, especially if you are one of the lead architects working on the design of a system, absolutely agree and one of the I won't even go further than that. Speaking of threat modeling against their compliance framework, that's the number one issue that drives me in this particular role is that I get to learn. I have the opportunity to learn something brand new every single day I learn it during interactions with with our customers with my colleagues.
In the field, the security field, the cloud field technology, is just almost seems infinitely broad to me that I get excited. I said, what am I going to learn new today and in the process maybe help someone else learn something new. So this idea of hey, I really don't know compliance. And boy there's another opportunity right to get into a field that you know, maybe even five years ago you would not have had that opportunity to do so. Now it's all coming together so I love it. I have a big question for you.
Customers ask about how they should segregate between say, that tenant, the subscription and their resource groups.
What are the general best practices that you advise customers to do and there 'cause big question on how many do they need? Again, big big question and may depend on the customer, but what's your general advice to anyone listening who might be trying to sort out their architecture in Azure? For me security perspective and segregation perspective?
Yeah, so it is a great question and it's a it's actually a pretty heavy topic. It's maybe more organizational legal things than it is technological, although there are aspects to it, but so my general guidance to every company is 1 instance of Azure Active Directory, so kind of that one ring to rule them all. And sometimes we I get involved with an organization that's maybe farther down the path.
And maybe they're suffering because of decisions they've made early on, right? And we have to unwind some of that stuff. Or you know what's our go forward path if we can get in front of with some folks that are still in their infancy and using cloud and Azure, or even write the get go, then yeah, we're going to. We're going to say one instance of Azure Active Directory and what we mean by that is for production test, pre production, non prod dev whatever you want to call everything.
That's running in Azure one directory infrastructure, and that's a typical from what folks have done on premises where we used to have, you know here's my non prod domain. Here's my production domain and that's that was fine, but we don't have this concept of domains right inside of Azure Active Directory. So what we've seen oftentimes folks would do different synchronizations, right? They haven't directory synchronization from non prod into a tenant and one from prod into a tenant.
Really does bad things operationally from a cost perspective from a security visibility, if we start to have these identity spread out all over the place, it's confusing and confounding to the end users, so we want all that to go into one directory and and Sarah. As you've heard me say, say to customers where we've tag teamed, it would need to be a constitutional amendment to add another directory, right? Are there good?
Reasons for it, sure, but let's make sure that really good. So let's keep with that one directory. So they have my my identity in the cloud is a single at a single point, and then I can use very very strong role based access controls to work toward that kind of zero trust architecture. That least privilege access model based on that single identity of non repudiation. Less things to worry about right? Less reduce the attack surface. There's a lot of benefits to a single directory.
And then as you convince folks to say, this is the way. Maybe that's kind of a Mandalorian thing, but this is the way. Then. Everything else starts to kind of fall into place, so now I have one root management group to which I can affix Azure policy and policy initiatives, role assignments, things like that, that can then be inherited in that kind of nested inheritance model that we have with management groups. Things start to start to kind of get easier at that perspective, and then the subscriptions.
I know we've seen a lot of folks trying to pack as much as they can into a subscription.
And then use role based access control. The resource group levels to kind of segregate things. You know there are no charges for a subscription, so we say why not look at segregating things. Separating things based on a subscription boundary. It gives you a lot of additional benefits as well, so I'm less likely to run into some any sort of limitations or quotas that we see around subscriptions.
Around you know the number of role assignments that you can have. The number of industries and things like that that often time are at a subscription level, so having that separated really frees up the amount of resources we have available gives you a little bit extra headroom. It also is a very nice building boundary, but it also gives me the ability to really separate from a security view based on those role based access control. So that way I don't have a subscription owner who has a look into everything the subscription.
Or maybe I don't want them to have any view into this other subscription in the data there. So so I think when we look at it we say single tenant maybe as many subscriptions as you're as you're willing to to have out there to use that as a as your first security boundary and then secure stuff even farther as you get into those resources that run in the resource groups. So it gives you quite a bit of additional flexibility, and I think more granular control if we if you do that so.
And again, taking this back to automation once we get this all automated, or to some degree of automation, having a lot of subscriptions really doesn't matter anymore, right? As as far as I know, that's too many subscriptions to manage. It really is in today you're managing the resources and you're going to have the same amount of resources irrespective of if you have one subscription or 50 subscriptions.
So in following on from that this idea of subscription limitations in quotas, if we if we are using role based access controls appropriately and as we should, if if we've got these resources spread over more subscriptions I I'm less likely to bump into some of these could become very critical. Showstopping limitations such as the number of role based access controls is limited per subscription. We've you can you hit a boundary of 2000.
Role assignments that you can do for Azure Resources in his subscription, and that sounds like a lot right 2000 we have had customers that have hit it, so really how do we unwind that? Start moving? Start moving those resources into different subscriptions so we're trying to just get ahead of these types of things. Kind of making sure that the customers aren't painting themselves into a corner. These organizations, because you know we'd rather have them understand long term what they might run into six months a year from now.
Or or even further out an why we were recommending multiple subscriptions.
So that they can make a very, very informed decision. Role based access controls is one of those. Another, more network oriented control vidis. This idea of network security groups. There is a limit to 5000 NSG's or network security groups that you can have in this subscription. And again you think I'll check 5000 have had customers who have hit. It seems crazy, but the lot of folks are using NSG S that are assigned to the Knicks, which is perfectly legitimate. Allowable but.
You can imagine that there's quite a few energies that start to pop up, so again, if we can, we recommend hey potentially use on-prem subnets and not on the Knicks. Maybe separate those virtual machines and therefore the Knicks into different subscriptions. I less likely to run into those boundaries and that all.
Take that in from a security perspective, so I just wanted to add that little bit to this idea of multiple subscriptions. It might be something really to think about as you're as you're looking at your overall governance and standards for deploying in Azure.
Yeah, I had a customer hit. I can't remove the limit was because they thought that absolutely everything was always infinite and turns out that wasn't correct. I mean, like you say the numbers are, you know the limits of large, extremely large, but it's still worthwhile knowing what they are just in case. And like you say, actually the solution that there's one customer came up with was to basically have more than one more than one subscription and the problems magically went away. So on that we always like. We also ask our guests to leave our listeners with a final thorn.
So what would your final thought be?
Yeah, so final thought. It might be final thoughts, but I guess my final thought is he always approach every opportunity as as new as fresh. So in other words, in my mind as an architect, as an engineer I know that XY&Z always work. I would say certainly keep that. That's experiential, but approach it with a blank slate like this is a brand new problem I'm going to approach it and really think about the problem.
End to end, especially given that oftentimes this is brand new territory. So always come at everything fresh. Don't try to pre solution. You know within the first you know 30 seconds of a particular conversation, so and be open and willing to think about something completely new and different. Some new type of approach and always think in the mind of an attacker, right? So who could get to this and how can it be nefarious and devious in your in your own head?
To see where you can shore up those defenses.
It's funny you bring up the thing like an attacker stuff. Yeah, if you have people in your organization who think like attackers, you need to be grooming those people to really work. Now I'm actually quite serious. Yeah, normally.
Eric and back me up here. I never interject after a final thought until this time because this is something that I am deeply passionate about having worked with so many customers who design things without realizing one attacker can actually do. And even with threat modeling were showing other potential risks that an application may have.

This is a critically important, critically important part. If you have people who really do have that skill set, you need to be grooming them and helping them work with other people to make sure that their securing the environment. Yes, really good point. 

Thank you very much.

**Michael** So with that, let's bring this to an end. Chuck, thank you so much for joining us this week. I always learn something from our guests and this was absolutely no exception. And to our listeners out there, thank you so much for listening. Stay safe and we'll see you next time. 

## Outro

Thanks for listening to the Azure Security podcast. You can find show notes and other resources at our website azuresecuritypodcast.net. If you have any questions, please find us on Twitter at @AzureSecPod. 
Background music is from ccmixter.com and licensed under the Creative Commons License.

